(()=>{var w=document.getElementById("whitelist-form"),h=document.getElementById("whitelist-input"),I=document.getElementById("whitelist"),E=document.getElementById("blacklist-form"),p=document.getElementById("blacklist-input"),k=document.getElementById("blacklist"),y=document.getElementById("audit-log"),b=document.getElementById("clear-log"),B=document.getElementById("pin-form"),f=document.getElementById("pin-input"),m=document.getElementById("telemetry-opt-in"),L=document.getElementById("clear-data"),r=!1,u=t=>{[w,E,b,m,L].forEach(n=>{n.disabled=t})},v=async(t,e)=>{let o=new TextEncoder().encode(t+e),i=await crypto.subtle.digest("SHA-256",o);return Array.from(new Uint8Array(i)).map(c=>c.toString(16).padStart(2,"0")).join("")},P=async t=>new Promise(e=>{chrome.storage.local.get("pin",async n=>{if(!n.pin){e(!0);return}let{hash:o,salt:i}=n.pin,c=await v(t,i);e(c===o)})}),s=async()=>{let t=prompt("Please enter your PIN to continue:");if(t===null)return!1;let e=await P(t);return e?(r=!0,u(!1),a("PIN verified successfully.")):(alert("Incorrect PIN."),a("Incorrect PIN entered.")),e},d=(t,e,n)=>{e.innerHTML="",t.forEach((o,i)=>{let c=document.createElement("li");c.textContent=o;let l=document.createElement("button");l.textContent="Remove",l.addEventListener("click",async()=>{!r&&!await s()||(t.splice(i,1),chrome.storage.local.set({[n]:t},()=>{d(t,e,n),a(`Removed "${o}" from ${n}`)}))}),c.appendChild(l),e.appendChild(c)})},g=t=>{y.innerHTML="",t.forEach(e=>{let n=document.createElement("li");n.textContent=`[${new Date(e.timestamp).toLocaleString()}] ${e.message}`,y.appendChild(n)})},a=t=>{chrome.storage.local.get("auditLog",e=>{let n=e.auditLog||[];n.unshift({message:t,timestamp:Date.now()}),n.length>50&&n.pop(),chrome.storage.local.set({auditLog:n},()=>{g(n)})})};chrome.storage.local.get(["whitelist","blacklist","auditLog","telemetryOptIn","pin"],t=>{let e=t.whitelist||[],n=t.blacklist||[],o=t.auditLog||[];d(e,I,"whitelist"),d(n,k,"blacklist"),g(o),m.checked=t.telemetryOptIn||!1,t.pin&&(u(!0),s())});w.addEventListener("submit",async t=>{if(t.preventDefault(),!r&&!await s())return;let e=h.value.trim();e&&chrome.storage.local.get("whitelist",n=>{let o=n.whitelist||[];o.push(e),chrome.storage.local.set({whitelist:o},()=>{d(o,I,"whitelist"),a(`Added "${e}" to whitelist`),h.value=""})})});E.addEventListener("submit",async t=>{if(t.preventDefault(),!r&&!await s())return;let e=p.value.trim();e&&chrome.storage.local.get("blacklist",n=>{let o=n.blacklist||[];o.push(e),chrome.storage.local.set({blacklist:o},()=>{d(o,k,"blacklist"),a(`Added "${e}" to blacklist`),p.value=""})})});b.addEventListener("click",async()=>{!r&&!await s()||chrome.storage.local.set({auditLog:[]},()=>{g([]),a("Audit log cleared")})});B.addEventListener("submit",async t=>{t.preventDefault();let e=f.value;e&&chrome.storage.local.get("pin",async n=>{if(n.pin){let l=prompt("Enter your current PIN to change it:");if(l===null)return;if(!await P(l)){alert("Incorrect PIN."),a("Incorrect PIN entered when trying to change PIN.");return}}let o=crypto.getRandomValues(new Uint8Array(16)),i=Array.from(o).map(l=>l.toString(16).padStart(2,"0")).join(""),c=await v(e,i);chrome.storage.local.set({pin:{hash:c,salt:i}},()=>{a("PIN changed"),f.value="",alert("PIN changed successfully."),r=!0,u(!1)})})});m.addEventListener("change",async t=>{if(!r&&!await s()){t.target.checked=!t.target.checked;return}let e=t.target.checked;chrome.storage.local.set({telemetryOptIn:e},()=>{a(`Telemetry opt-in changed to ${e}`)})});L.addEventListener("click",async()=>{!r&&!await s()||confirm("Are you sure you want to clear all local data? This action cannot be undone.")&&chrome.storage.local.clear(()=>{a("All local data cleared"),location.reload()})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL29wdGlvbnMvb3B0aW9ucy5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiY29uc3Qgd2hpdGVsaXN0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aGl0ZWxpc3QtZm9ybScpO1xuY29uc3Qgd2hpdGVsaXN0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2hpdGVsaXN0LWlucHV0Jyk7XG5jb25zdCB3aGl0ZWxpc3RFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aGl0ZWxpc3QnKTtcblxuY29uc3QgYmxhY2tsaXN0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdibGFja2xpc3QtZm9ybScpO1xuY29uc3QgYmxhY2tsaXN0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmxhY2tsaXN0LWlucHV0Jyk7XG5jb25zdCBibGFja2xpc3RFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdibGFja2xpc3QnKTtcblxuY29uc3QgYXVkaXRMb2dFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdWRpdC1sb2cnKTtcbmNvbnN0IGNsZWFyTG9nQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsZWFyLWxvZycpO1xuXG5jb25zdCBwaW5Gb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bpbi1mb3JtJyk7XG5jb25zdCBwaW5JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaW4taW5wdXQnKTtcblxuY29uc3QgdGVsZW1ldHJ5T3B0SW5DaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZWxlbWV0cnktb3B0LWluJyk7XG5jb25zdCBjbGVhckRhdGFCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xlYXItZGF0YScpO1xuXG5sZXQgaXNQaW5WZXJpZmllZCA9IGZhbHNlO1xuXG5jb25zdCBzZXRVaUxvY2tlZCA9IChpc0xvY2tlZCkgPT4ge1xuICBjb25zdCBwcm90ZWN0ZWRFbGVtZW50cyA9IFtcbiAgICB3aGl0ZWxpc3RGb3JtLFxuICAgIGJsYWNrbGlzdEZvcm0sXG4gICAgY2xlYXJMb2dCdXR0b24sXG4gICAgdGVsZW1ldHJ5T3B0SW5DaGVja2JveCxcbiAgICBjbGVhckRhdGFCdXR0b24sXG4gIF07XG4gIHByb3RlY3RlZEVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgIGVsLmRpc2FibGVkID0gaXNMb2NrZWQ7XG4gIH0pO1xufTtcblxuY29uc3QgaGFzaFBpbiA9IGFzeW5jIChwaW4sIHNhbHQpID0+IHtcbiAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICBjb25zdCBkYXRhID0gZW5jb2Rlci5lbmNvZGUocGluICsgc2FsdCk7XG4gIGNvbnN0IGhhc2ggPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdCgnU0hBLTI1NicsIGRhdGEpO1xuICByZXR1cm4gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoKSkubWFwKGIgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSkuam9pbignJyk7XG59O1xuXG5jb25zdCB2ZXJpZnlQaW4gPSBhc3luYyAocGluKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldCgncGluJywgYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKCFyZXN1bHQucGluKSB7XG4gICAgICAgIHJlc29sdmUodHJ1ZSk7IC8vIE5vIFBJTiBzZXQsIHNvIHZlcmlmaWNhdGlvbiBwYXNzZXNcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBoYXNoLCBzYWx0IH0gPSByZXN1bHQucGluO1xuICAgICAgY29uc3QgaGFzaGVkUGluID0gYXdhaXQgaGFzaFBpbihwaW4sIHNhbHQpO1xuICAgICAgcmVzb2x2ZShoYXNoZWRQaW4gPT09IGhhc2gpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmNvbnN0IHByb21wdEZvclBpbiA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgcGluID0gcHJvbXB0KCdQbGVhc2UgZW50ZXIgeW91ciBQSU4gdG8gY29udGludWU6Jyk7XG4gIGlmIChwaW4gPT09IG51bGwpIHJldHVybiBmYWxzZTsgLy8gVXNlciBjYW5jZWxsZWQgdGhlIHByb21wdFxuICBjb25zdCBpc1ZhbGlkID0gYXdhaXQgdmVyaWZ5UGluKHBpbik7XG4gIGlmIChpc1ZhbGlkKSB7XG4gICAgaXNQaW5WZXJpZmllZCA9IHRydWU7XG4gICAgc2V0VWlMb2NrZWQoZmFsc2UpO1xuICAgIGFkZFRvQXVkaXRMb2coJ1BJTiB2ZXJpZmllZCBzdWNjZXNzZnVsbHkuJyk7XG4gIH0gZWxzZSB7XG4gICAgYWxlcnQoJ0luY29ycmVjdCBQSU4uJyk7XG4gICAgYWRkVG9BdWRpdExvZygnSW5jb3JyZWN0IFBJTiBlbnRlcmVkLicpO1xuICB9XG4gIHJldHVybiBpc1ZhbGlkO1xufTtcblxuY29uc3QgcmVuZGVyTGlzdCA9IChsaXN0LCBlbCwgbGlzdE5hbWUpID0+IHtcbiAgZWwuaW5uZXJIVE1MID0gJyc7XG4gIGxpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgbGkudGV4dENvbnRlbnQgPSBpdGVtO1xuICAgIGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIHJlbW92ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdSZW1vdmUnO1xuICAgIHJlbW92ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghaXNQaW5WZXJpZmllZCAmJiAhKGF3YWl0IHByb21wdEZvclBpbigpKSkgcmV0dXJuO1xuICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgW2xpc3ROYW1lXTogbGlzdCB9LCAoKSA9PiB7XG4gICAgICAgIHJlbmRlckxpc3QobGlzdCwgZWwsIGxpc3ROYW1lKTtcbiAgICAgICAgYWRkVG9BdWRpdExvZyhgUmVtb3ZlZCBcIiR7aXRlbX1cIiBmcm9tICR7bGlzdE5hbWV9YCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBsaS5hcHBlbmRDaGlsZChyZW1vdmVCdXR0b24pO1xuICAgIGVsLmFwcGVuZENoaWxkKGxpKTtcbiAgfSk7XG59O1xuXG5jb25zdCByZW5kZXJBdWRpdExvZyA9IChsb2cpID0+IHtcbiAgYXVkaXRMb2dFbC5pbm5lckhUTUwgPSAnJztcbiAgbG9nLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgbGkudGV4dENvbnRlbnQgPSBgWyR7bmV3IERhdGUoaXRlbS50aW1lc3RhbXApLnRvTG9jYWxlU3RyaW5nKCl9XSAke2l0ZW0ubWVzc2FnZX1gO1xuICAgIGF1ZGl0TG9nRWwuYXBwZW5kQ2hpbGQobGkpO1xuICB9KTtcbn07XG5cbmNvbnN0IGFkZFRvQXVkaXRMb2cgPSAobWVzc2FnZSkgPT4ge1xuICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoJ2F1ZGl0TG9nJywgKHJlc3VsdCkgPT4ge1xuICAgIGNvbnN0IGF1ZGl0TG9nID0gcmVzdWx0LmF1ZGl0TG9nIHx8IFtdO1xuICAgIGF1ZGl0TG9nLnVuc2hpZnQoeyBtZXNzYWdlLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSk7XG4gICAgaWYgKGF1ZGl0TG9nLmxlbmd0aCA+IDUwKSB7XG4gICAgICBhdWRpdExvZy5wb3AoKTtcbiAgICB9XG4gICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgYXVkaXRMb2cgfSwgKCkgPT4ge1xuICAgICAgcmVuZGVyQXVkaXRMb2coYXVkaXRMb2cpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChbJ3doaXRlbGlzdCcsICdibGFja2xpc3QnLCAnYXVkaXRMb2cnLCAndGVsZW1ldHJ5T3B0SW4nLCAncGluJ10sIChyZXN1bHQpID0+IHtcbiAgY29uc3Qgd2hpdGVsaXN0ID0gcmVzdWx0LndoaXRlbGlzdCB8fCBbXTtcbiAgY29uc3QgYmxhY2tsaXN0ID0gcmVzdWx0LmJsYWNrbGlzdCB8fCBbXTtcbiAgY29uc3QgYXVkaXRMb2cgPSByZXN1bHQuYXVkaXRMb2cgfHwgW107XG4gIHJlbmRlckxpc3Qod2hpdGVsaXN0LCB3aGl0ZWxpc3RFbCwgJ3doaXRlbGlzdCcpO1xuICByZW5kZXJMaXN0KGJsYWNrbGlzdCwgYmxhY2tsaXN0RWwsICdibGFja2xpc3QnKTtcbiAgcmVuZGVyQXVkaXRMb2coYXVkaXRMb2cpO1xuICB0ZWxlbWV0cnlPcHRJbkNoZWNrYm94LmNoZWNrZWQgPSByZXN1bHQudGVsZW1ldHJ5T3B0SW4gfHwgZmFsc2U7XG5cbiAgaWYgKHJlc3VsdC5waW4pIHtcbiAgICBzZXRVaUxvY2tlZCh0cnVlKTtcbiAgICBwcm9tcHRGb3JQaW4oKTtcbiAgfVxufSk7XG5cbndoaXRlbGlzdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGUpID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBpZiAoIWlzUGluVmVyaWZpZWQgJiYgIShhd2FpdCBwcm9tcHRGb3JQaW4oKSkpIHJldHVybjtcbiAgY29uc3QgbmV3SXRlbSA9IHdoaXRlbGlzdElucHV0LnZhbHVlLnRyaW0oKTtcbiAgaWYgKG5ld0l0ZW0pIHtcbiAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoJ3doaXRlbGlzdCcsIChyZXN1bHQpID0+IHtcbiAgICAgIGNvbnN0IHdoaXRlbGlzdCA9IHJlc3VsdC53aGl0ZWxpc3QgfHwgW107XG4gICAgICB3aGl0ZWxpc3QucHVzaChuZXdJdGVtKTtcbiAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7IHdoaXRlbGlzdCB9LCAoKSA9PiB7XG4gICAgICAgIHJlbmRlckxpc3Qod2hpdGVsaXN0LCB3aGl0ZWxpc3RFbCwgJ3doaXRlbGlzdCcpO1xuICAgICAgICBhZGRUb0F1ZGl0TG9nKGBBZGRlZCBcIiR7bmV3SXRlbX1cIiB0byB3aGl0ZWxpc3RgKTtcbiAgICAgICAgd2hpdGVsaXN0SW5wdXQudmFsdWUgPSAnJztcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59KTtcblxuYmxhY2tsaXN0Rm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZSkgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGlmICghaXNQaW5WZXJpZmllZCAmJiAhKGF3YWl0IHByb21wdEZvclBpbigpKSkgcmV0dXJuO1xuICBjb25zdCBuZXdJdGVtID0gYmxhY2tsaXN0SW5wdXQudmFsdWUudHJpbSgpO1xuICBpZiAobmV3SXRlbSkge1xuICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldCgnYmxhY2tsaXN0JywgKHJlc3VsdCkgPT4ge1xuICAgICAgY29uc3QgYmxhY2tsaXN0ID0gcmVzdWx0LmJsYWNrbGlzdCB8fCBbXTtcbiAgICAgIGJsYWNrbGlzdC5wdXNoKG5ld0l0ZW0pO1xuICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgYmxhY2tsaXN0IH0sICgpID0+IHtcbiAgICAgICAgcmVuZGVyTGlzdChibGFja2xpc3QsIGJsYWNrbGlzdEVsLCAnYmxhY2tsaXN0Jyk7XG4gICAgICAgIGFkZFRvQXVkaXRMb2coYEFkZGVkIFwiJHtuZXdJdGVtfVwiIHRvIGJsYWNrbGlzdGApO1xuICAgICAgICBibGFja2xpc3RJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5jbGVhckxvZ0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgaWYgKCFpc1BpblZlcmlmaWVkICYmICEoYXdhaXQgcHJvbXB0Rm9yUGluKCkpKSByZXR1cm47XG4gIGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7IGF1ZGl0TG9nOiBbXSB9LCAoKSA9PiB7XG4gICAgcmVuZGVyQXVkaXRMb2coW10pO1xuICAgIGFkZFRvQXVkaXRMb2coJ0F1ZGl0IGxvZyBjbGVhcmVkJyk7XG4gIH0pO1xufSk7XG5cbnBpbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGUpID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCBwaW4gPSBwaW5JbnB1dC52YWx1ZTtcbiAgaWYgKHBpbikge1xuICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldCgncGluJywgYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdC5waW4pIHtcbiAgICAgICAgY29uc3Qgb2xkUGluID0gcHJvbXB0KCdFbnRlciB5b3VyIGN1cnJlbnQgUElOIHRvIGNoYW5nZSBpdDonKTtcbiAgICAgICAgaWYgKG9sZFBpbiA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBpc1ZhbGlkID0gYXdhaXQgdmVyaWZ5UGluKG9sZFBpbik7XG4gICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgIGFsZXJ0KCdJbmNvcnJlY3QgUElOLicpO1xuICAgICAgICAgIGFkZFRvQXVkaXRMb2coJ0luY29ycmVjdCBQSU4gZW50ZXJlZCB3aGVuIHRyeWluZyB0byBjaGFuZ2UgUElOLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qgc2FsdCA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMTYpKTtcbiAgICAgIGNvbnN0IHNhbHRTdHJpbmcgPSBBcnJheS5mcm9tKHNhbHQpLm1hcChiID0+IGIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJykpLmpvaW4oJycpO1xuICAgICAgY29uc3QgaGFzaGVkUGluID0gYXdhaXQgaGFzaFBpbihwaW4sIHNhbHRTdHJpbmcpO1xuICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgcGluOiB7IGhhc2g6IGhhc2hlZFBpbiwgc2FsdDogc2FsdFN0cmluZyB9IH0sICgpID0+IHtcbiAgICAgICAgYWRkVG9BdWRpdExvZygnUElOIGNoYW5nZWQnKTtcbiAgICAgICAgcGluSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgYWxlcnQoJ1BJTiBjaGFuZ2VkIHN1Y2Nlc3NmdWxseS4nKTtcbiAgICAgICAgaXNQaW5WZXJpZmllZCA9IHRydWU7IC8vIEFzc3VtZSB1c2VyIGlzIHZlcmlmaWVkIGFmdGVyIGNoYW5naW5nIFBJTlxuICAgICAgICBzZXRVaUxvY2tlZChmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbnRlbGVtZXRyeU9wdEluQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgYXN5bmMgKGUpID0+IHtcbiAgaWYgKCFpc1BpblZlcmlmaWVkICYmICEoYXdhaXQgcHJvbXB0Rm9yUGluKCkpKSB7XG4gICAgZS50YXJnZXQuY2hlY2tlZCA9ICFlLnRhcmdldC5jaGVja2VkOyAvLyBSZXZlcnQgdGhlIGNoZWNrYm94XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHRlbGVtZXRyeU9wdEluID0gZS50YXJnZXQuY2hlY2tlZDtcbiAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgdGVsZW1ldHJ5T3B0SW4gfSwgKCkgPT4ge1xuICAgIGFkZFRvQXVkaXRMb2coYFRlbGVtZXRyeSBvcHQtaW4gY2hhbmdlZCB0byAke3RlbGVtZXRyeU9wdElufWApO1xuICB9KTtcbn0pO1xuXG5jbGVhckRhdGFCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gIGlmICghaXNQaW5WZXJpZmllZCAmJiAhKGF3YWl0IHByb21wdEZvclBpbigpKSkgcmV0dXJuO1xuICBpZiAoY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNsZWFyIGFsbCBsb2NhbCBkYXRhPyBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLicpKSB7XG4gICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuY2xlYXIoKCkgPT4ge1xuICAgICAgYWRkVG9BdWRpdExvZygnQWxsIGxvY2FsIGRhdGEgY2xlYXJlZCcpO1xuICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfSk7XG4gIH1cbn0pOyJdLAogICJtYXBwaW5ncyI6ICJNQUFBLElBQU1BLEVBQWdCLFNBQVMsZUFBZSxnQkFBZ0IsRUFDeERDLEVBQWlCLFNBQVMsZUFBZSxpQkFBaUIsRUFDMURDLEVBQWMsU0FBUyxlQUFlLFdBQVcsRUFFakRDLEVBQWdCLFNBQVMsZUFBZSxnQkFBZ0IsRUFDeERDLEVBQWlCLFNBQVMsZUFBZSxpQkFBaUIsRUFDMURDLEVBQWMsU0FBUyxlQUFlLFdBQVcsRUFFakRDLEVBQWEsU0FBUyxlQUFlLFdBQVcsRUFDaERDLEVBQWlCLFNBQVMsZUFBZSxXQUFXLEVBRXBEQyxFQUFVLFNBQVMsZUFBZSxVQUFVLEVBQzVDQyxFQUFXLFNBQVMsZUFBZSxXQUFXLEVBRTlDQyxFQUF5QixTQUFTLGVBQWUsa0JBQWtCLEVBQ25FQyxFQUFrQixTQUFTLGVBQWUsWUFBWSxFQUV4REMsRUFBZ0IsR0FFZEMsRUFBZUMsR0FBYSxDQUNOLENBQ3hCZCxFQUNBRyxFQUNBSSxFQUNBRyxFQUNBQyxDQUNGLEVBQ2tCLFFBQVFJLEdBQU0sQ0FDOUJBLEVBQUcsU0FBV0QsQ0FDaEIsQ0FBQyxDQUNILEVBRU1FLEVBQVUsTUFBT0MsRUFBS0MsSUFBUyxDQUVuQyxJQUFNQyxFQURVLElBQUksWUFBWSxFQUNYLE9BQU9GLEVBQU1DLENBQUksRUFDaENFLEVBQU8sTUFBTSxPQUFPLE9BQU8sT0FBTyxVQUFXRCxDQUFJLEVBQ3ZELE9BQU8sTUFBTSxLQUFLLElBQUksV0FBV0MsQ0FBSSxDQUFDLEVBQUUsSUFBSUMsR0FBS0EsRUFBRSxTQUFTLEVBQUUsRUFBRSxTQUFTLEVBQUcsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQzNGLEVBRU1DLEVBQVksTUFBT0wsR0FDaEIs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QWUsRUFBRyxJQUFNLENBQ2pEbEIsRUFBYywrQkFBK0JrQixDQUFjLEVBQUUsQ0FDL0QsQ0FBQyxDQUNILENBQUMsRUFFRG5DLEVBQWdCLGlCQUFpQixRQUFTLFNBQVksQ0FDaEQsQ0FBQ0MsR0FBaUIsQ0FBRSxNQUFNYyxFQUFhLEdBQ3ZDLFFBQVEsOEVBQThFLEdBQ3hGLE9BQU8sUUFBUSxNQUFNLE1BQU0sSUFBTSxDQUMvQkUsRUFBYyx3QkFBd0IsRUFDdEMsU0FBUyxPQUFPLENBQ2xCLENBQUMsQ0FFTCxDQUFDIiwKICAibmFtZXMiOiBbIndoaXRlbGlzdEZvcm0iLCAid2hpdGVsaXN0SW5wdXQiLCAid2hpdGVsaXN0RWwiLCAiYmxhY2tsaXN0Rm9ybSIsICJibGFja2xpc3RJbnB1dCIsICJibGFja2xpc3RFbCIsICJhdWRpdExvZ0VsIiwgImNsZWFyTG9nQnV0dG9uIiwgInBpbkZvcm0iLCAicGluSW5wdXQiLCAidGVsZW1ldHJ5T3B0SW5DaGVja2JveCIsICJjbGVhckRhdGFCdXR0b24iLCAiaXNQaW5WZXJpZmllZCIsICJzZXRVaUxvY2tlZCIsICJpc0xvY2tlZCIsICJlbCIsICJoYXNoUGluIiwgInBpbiIsICJzYWx0IiwgImRhdGEiLCAiaGFzaCIsICJiIiwgInZlcmlmeVBpbiIsICJyZXNvbHZlIiwgInJlc3VsdCIsICJoYXNoZWRQaW4iLCAicHJvbXB0Rm9yUGluIiwgImlzVmFsaWQiLCAiYWRkVG9BdWRpdExvZyIsICJyZW5kZXJMaXN0IiwgImxpc3QiLCAibGlzdE5hbWUiLCAiaXRlbSIsICJpbmRleCIsICJsaSIsICJyZW1vdmVCdXR0b24iLCAicmVuZGVyQXVkaXRMb2ciLCAibG9nIiwgIm1lc3NhZ2UiLCAiYXVkaXRMb2ciLCAid2hpdGVsaXN0IiwgImJsYWNrbGlzdCIsICJlIiwgIm5ld0l0ZW0iLCAib2xkUGluIiwgInNhbHRTdHJpbmciLCAidGVsZW1ldHJ5T3B0SW4iXQp9Cg==
